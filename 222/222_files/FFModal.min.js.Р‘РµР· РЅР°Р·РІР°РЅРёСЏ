define("FFModal",["essentials"],function(){return n={selector:"[data-ffmodal]",size:"md",variant:null,clickOutside:!0,closeKeys:["Esc","Escape"],onOpen:null,onClose:null},i={modal:"[data-ffmodal]",modalContentContainer:"[data-ffmodal-contentContainer]",modalContent:"[data-ffmodal-content]",modalHeader:"[data-ffmodal-header]",modalBody:"[data-ffmodal-body]",modalClose:"[data-ffmodal-close]"},s={isOpen:"is-open",hasScroll:"has-scroll",docNoScroll:"ff-scroll-disabled",size:{sm:"FFModal--sm",md:"FFModal--md",full:"FFModal--full"},variant:{headerBackground:"FFModal--headerBackground"}},d="headerBackground",a="ClickOnClose",l="ClickOutsidePopUp",r="EscapeKey",t.prototype.init=function(){this.domElements.modal&&(this.setModalSize(this.settings.size),this.setModalVariant(this.settings.variant))},t.prototype.setModalSize=function(t){var e=s.size[t||n.size];this.domElements.modal.classList.add(e)},t.prototype.setModalVariant=function(t){var e=s.variant[t];e&&this.domElements.modal.classList.add(e),t===d&&this.setHeaderBackground()},t.prototype.setHeaderBackground=function(){this.settings.headerBackgroundURL&&(this.domElements.modalHeader.style.backgroundImage="url('"+this.settings.headerBackgroundURL+"')")},t.prototype.setModalScrollState=function(){var t=this.domElements.modal,e=this.domElements.modalContentContainer,n=this.domElements.modalHeader,o=this.domElements.modalBody;(e?e.getBoundingClientRect().height:0)<(n?n.getBoundingClientRect().height:0)+(o?o.getBoundingClientRect().height:0)&&t.classList.add(s.hasScroll)},t.prototype.getDomElements=function(){var t=this.getModal();return Object.assign({},{modal:t,modalContentContainer:e(i.modalContentContainer,t),modalContent:e(i.modalContent,t),modalHeader:e(i.modalHeader,t),modalBody:e(i.modalBody,t),modalClose:e(i.modalClose,t),modalHeaderBackground:e(i.modalHeaderBackground,t)})},t.prototype.getModal=function(){for(var t=e(this.settings.selector);t&&t!==document.body;){if(t.hasAttribute("data-ffmodal"))return t;t=t.parentNode}},t.prototype.clickOutsideHandler=function(t){var e=this.settings.clickOutside,n=this.domElements.modalContentContainer;if(e){for(var o=t.target;o&&o!==document.body;){if(o===n)return;o=o.parentNode}this.close(l)}},t.prototype.clickToClose=function(t){this.close(a)},t.prototype.keyDownHandler=function(t){var e=this.settings.closeKeys;0<e.length&&-1<e.indexOf(t.key)&&!0===this.isOpen&&(t.preventDefault(),this.close(r)),"Tab"===t.key&&!0===this.isOpen&&this.trapTabKey(t)},t.prototype.trapTabKey=function(t){var e=o(this.domElements.modalContentContainer),n=e.indexOf(document.activeElement);!t.shiftKey||0!==n&&-1!==n?t.shiftKey||n!==e.length-1&&-1!==n||(e[0].focus(),t.preventDefault()):(e[e.length-1].focus(),t.preventDefault())},t.prototype.open=function(){var t=this.domElements.modal,e=s.isOpen,n=this.settings.onOpen;this.isOpen||(this.isOpen=!0,this.addEventListeners(),document.body.classList.add(s.docNoScroll),t.classList.add(e),this.setModalScrollState(),function(t){var e=o(t),n=t.querySelector("[autofocus]")||e[0];n&&n.focus()}(this.domElements.modalContentContainer),"function"==typeof n&&n())},t.prototype.close=function(t){var e=this.domElements.modal,n=this.settings.onClose;this.isOpen&&(this.isOpen=!1,this.removeEventListeners(),document.body.classList.remove(s.docNoScroll),e.classList.remove(s.isOpen),e.classList.remove(s.hasScroll),"function"==typeof n&&n(t))},t.prototype.resizeDocument=function(t){document.body.classList.contains(s.docNoScroll)||document.body.classList.add(s.docNoScroll),this.setModalScrollState()},t.prototype.addEventListeners=function(){var t=this.domElements.modal,e=this.domElements.modalClose;this.isListening||(t.addEventListener("click",this.clickOutsideHandler,!1),e.addEventListener("click",this.clickToClose,!1),document.addEventListener("keydown",this.keyDownHandler,!1),window.addEventListener("resize",this.resizeDocument,!1),this.isListening=!0)},t.prototype.removeEventListeners=function(){var t=this.domElements.modal,e=this.domElements.modalClose;this.isListening&&(t.removeEventListener("click",this.clickOutsideHandler),e.removeEventListener("click",this.close),document.removeEventListener("keydown",this.keyDownHandler),window.removeEventListener("resize",this.resizeDocument),this.isListening=!1)},{FFModal:t};function e(t,e){return(e||document).querySelector(t)}function o(t){return function(t){return Array.prototype.slice.call(t)}((t||document).querySelectorAll('a[href]:not([tabindex^="-"]):not([inert]),area[href]:not([tabindex^="-"]):not([inert]),input:not([disabled]):not([tabindex^="-"]):not([inert]),select:not([disabled]):not([inert]),textarea:not([disabled]):not([inert]),button:not([disabled]):not([inert]),iframe:not([tabindex^="-"]):not([inert]),audio:not([tabindex^="-"]):not([inert]),video:not([tabindex^="-"]):not([inert]),[contenteditable]:not([tabindex^="-"]):not([inert]),[tabindex]:not([tabindex^="-"]):not([inert])')).filter(function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)})}function t(t){this.isOpen=!1,this.isListening=!1,this.settings=Object.assign({},n,t),this.domElements=this.getDomElements(),this.clickToClose=this.clickToClose.bind(this),this.clickOutsideHandler=this.clickOutsideHandler.bind(this),this.keyDownHandler=this.keyDownHandler.bind(this),this.trapTabKey=this.trapTabKey.bind(this),this.close=this.close.bind(this),this.open=this.open.bind(this),this.resizeDocument=this.resizeDocument.bind(this),this.addEventListeners=this.addEventListeners.bind(this),this.removeEventListeners=this.removeEventListeners.bind(this),this.init()}var n,i,s,d,a,l,r});